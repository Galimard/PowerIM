$(document).ready(function(){var o,t,e;$(".login__text, .nouser-login").on("click",function(e){e.preventDefault(),$(this).toggleClass("active"),$(".popup-login").toggleClass("open"),$(".popup-overlay").fadeToggle(400),$(".login-form-item__input--tel").focus()}),$(".popup-overlay").on("click",function(){$(".login__text").removeClass("active"),$(".popup-login").removeClass("open"),$(".popup-overlay").fadeOut(200)}),$(".burger").on("click",function(){$(".header").toggleClass("fixed");var e=$(".header.fixed").innerHeight();$(".burger-menu").slideToggle(400).toggleClass("open").css("top",e),$(".main, .yandex").toggleClass("open"),$(".line__main").toggleClass("burger-line2"),$(".line__middle").toggleClass("burger-line3"),$(".account-accs-select, .account-audit__title-border, .account-accs-employee, #ascrail2000, #ascrail2005, .account, .audit-s, .breadcrumb").toggleClass("hide")}),$(".login-form-item__input--tel").mask("+7 000 000-00-00"),$(".login-form-item__input--sms").mask("0000"),(o=$(".login-form-item__input--tel")).keyup(function(){var e=Number($(this).val().length),t=$(".timer"),s=parseInt(t.text());if($(o).hasClass("error")&&($(o).removeClass("error"),$(o).parent(".login-form-item").removeClass("error"),$(".text-sms").text("Пришлём SMS с кодом для входа")),16==e){$(o).addClass("valid").removeClass("error"),$(o).parent(".login-form-item").addClass("valid").removeClass("error"),$(".text-sms").css("display","none"),$(".login-form__sms").slideDown(400);setTimeout(function e(){0<s?(t.text(--s),setTimeout(e,1e3)):($(".text-more").css("display","none"),$(".send-more").css("display","inline-block"))},1e3)}else $(o).hasClass("valid")&&($(o).addClass("error").removeClass("valid"),$(o).parent(".login-form-item").addClass("error").removeClass("valid")),$(".login-form__sms").slideUp(300),$(o).hasClass("error")&&$(".text-sms").css("display","block").text("Неверный номер телефона")}),(t=$(".login-form-item__input--sms")).keyup(function(){var e=Number($(this).val().length);$(t).hasClass("error")&&($(t).removeClass("error"),$(t).parent(".login-form-item").removeClass("error")),4==e?($(t).addClass("valid").removeClass("error"),$(t).parent(".login-form-item").addClass("valid").removeClass("error")):$(t).hasClass("valid")&&($(t).addClass("error").removeClass("valid"),$(t).parent(".login-form-item").addClass("error").removeClass("valid"))}),e=$(".login-form__btn--js"),$(e).on("click",function(e){e.preventDefault(),"block"==$(".login-form__sms").css("display")?$(".login-form-item__input--sms").hasClass("valid")?($(".login-form").fadeOut(200),setTimeout(function(){$(".login-yandex").fadeIn(200)},300)):($(".login-form-item__input--sms").addClass("error"),$(".login-form-item__input--sms").parent(".login-form-item").addClass("error")):$(".login-form-item__input--tel").hasClass("valid")||($(".login-form-item__input--tel").addClass("error"),$(".login-form-item__input--tel").parent(".login-form-item").addClass("error"),$(".text-sms").text("Неверный номер телефона"))}),$(".js-select-selected").on("click",function(){$(".select-list-block").fadeToggle(300)}),jQuery(function(s){s(document).mouseup(function(e){var t=s(".js-select-selected, .js-select-item");t.is(e.target)||0!==t.has(e.target).length||s(".select-list-block").fadeOut(100)})}),$(".js-select-item").on("click",function(){var e=$(this).find(".select-item-info__name").text(),t=$(this).find(".select-item-info__email").text();img=$(this).find(".select-item__img img").attr("src"),$(".js-select-item").removeClass("active"),$(this).addClass("active"),$(".select-selected-info .select-item-info__name ").text(e),$(".select-selected-info .select-item-info__email ").text(t),$(".select-selected__img img").attr("src",img),$(".select-list-block").fadeOut(100)}),$(".employee-list, .employee-sublist").niceScroll({cursorcolor:"rgba(37, 38, 42, 0.8)",cursorwidth:"4px",autohidemode:"scroll",railpadding:{top:5,right:2,left:0,bottom:0},zindex:10,cursorborder:"1px solid rgba(37, 38, 42, 0.8)"}),$(".employee-list-subitem").on("click",function(){$(".employee-list-subitem").removeClass("active"),$(this).addClass("active")}),$(".account-accs__add-btn").on("click",function(e){e.preventDefault()}),$(".account-tabs-title__link").on("click",function(e){e.preventDefault();var t=$(this).attr("href");$(".account-tabs-block, .account-tabs-title__link").removeClass("active"),$(this).addClass("active"),$(t).addClass("active"),"#accounts"==t?$(".employee-list, .employee-sublist").niceScroll({cursorcolor:"rgba(37, 38, 42, 0.8)",cursorwidth:"4px",autohidemode:"scroll",railpadding:{top:5,right:2,left:0,bottom:0},zindex:10,cursorborder:"1px solid rgba(37, 38, 42, 0.8)"}):$(".employee-list, .employee-sublist").getNiceScroll().remove()}),$(".icon").on("click",function(){var e=$(this).parent(".info"),t=Math.abs($(e).position().top-100),s=Math.abs($(this).position().left),o=0;$(e).hasClass("table-col-res")&&(Math.abs($(e).position().left),o=624+s,console.log(s),console.log(o),$(".icon-text").css({top:t,left:"624px"})),$(e).hasClass("table-col-name")&&(s=Math.abs($(this).position().left),$(".icon-text").css({top:t,left:s}))}),$(".table-row").on("click",function(){$(this).next(".table-down").innerHeight(),$(".audit-s-table").innerHeight();$(this).next(".table-down").slideToggle(300),$(this).find(".arrow").toggleClass("cross")})});