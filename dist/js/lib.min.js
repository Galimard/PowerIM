$(document).ready(function(){var l,s,e;$(".login__text").on("click",function(e){e.preventDefault(),$(this).toggleClass("active"),$(".popup-login").toggleClass("open"),$(".popup-overlay").fadeToggle(400),$(".login-form-item__input--tel").focus()}),$(".popup-overlay").on("click",function(){$(".login__text").removeClass("active"),$(".popup-login").removeClass("open"),$(".popup-overlay").fadeOut(200)}),$(".burger").on("click",function(){$(".burger-menu").slideToggle(400).toggleClass("open"),$(".header").toggleClass("fixed"),$(".main, .yandex").toggleClass("open"),$(".line__main").toggleClass("burger-line2"),$(".line__middle").toggleClass("burger-line3")}),$(".login-form-item__input--tel").mask("+7 000 000-00-00"),$(".login-form-item__input--sms").mask("0000"),(l=$(".login-form-item__input--tel")).keyup(function(){var e=Number($(this).val().length),s=$(".timer"),t=parseInt(s.text());if($(l).hasClass("error")&&($(l).removeClass("error"),$(l).parent(".login-form-item").removeClass("error"),$(".text-sms").text("Пришлём SMS с кодом для входа")),16==e){$(l).addClass("valid").removeClass("error"),$(l).parent(".login-form-item").addClass("valid").removeClass("error"),$(".text-sms").css("display","none"),$(".login-form__sms").slideDown(400);setTimeout(function e(){0<t?(s.text(--t),setTimeout(e,1e3)):($(".text-more").css("display","none"),$(".send-more").css("display","inline-block"))},1e3)}else $(l).hasClass("valid")&&($(l).addClass("error").removeClass("valid"),$(l).parent(".login-form-item").addClass("error").removeClass("valid")),$(".login-form__sms").slideUp(300),$(l).hasClass("error")&&$(".text-sms").css("display","block").text("Неверный номер телефона")}),(s=$(".login-form-item__input--sms")).keyup(function(){var e=Number($(this).val().length);$(s).hasClass("error")&&($(s).removeClass("error"),$(s).parent(".login-form-item").removeClass("error")),4==e?($(s).addClass("valid").removeClass("error"),$(s).parent(".login-form-item").addClass("valid").removeClass("error")):$(s).hasClass("valid")&&($(s).addClass("error").removeClass("valid"),$(s).parent(".login-form-item").addClass("error").removeClass("valid"))}),e=$(".login-form__btn--js"),$(e).on("click",function(e){e.preventDefault(),"block"==$(".login-form__sms").css("display")?$(".login-form-item__input--sms").hasClass("valid")?($(".login-form").fadeOut(200),setTimeout(function(){$(".login-yandex").fadeIn(200)},300)):($(".login-form-item__input--sms").addClass("error"),$(".login-form-item__input--sms").parent(".login-form-item").addClass("error")):$(".login-form-item__input--tel").hasClass("valid")||($(".login-form-item__input--tel").addClass("error"),$(".login-form-item__input--tel").parent(".login-form-item").addClass("error"),$(".text-sms").text("Неверный номер телефона"))}),$(".js-select-selected").on("click",function(){$(".select-list-block").fadeToggle(300)}),jQuery(function(t){t(document).mouseup(function(e){var s=t(".js-select-selected, .js-select-item");s.is(e.target)||0!==s.has(e.target).length||t(".select-list-block").fadeOut(100)})}),$(".js-select-item").on("click",function(){var e=$(this).find(".select-item-info__name").text(),s=$(this).find(".select-item-info__email").text();img=$(this).find(".select-item__img img").attr("src"),$(".js-select-item").removeClass("active"),$(this).addClass("active"),$(".select-selected-info .select-item-info__name ").text(e),$(".select-selected-info .select-item-info__email ").text(s),$(".select-selected__img img").attr("src",img),$(".select-list-block").fadeOut(100)}),$(".employee-list, .employee-sublist").niceScroll({cursorcolor:"rgba(37, 38, 42, 0.8)",cursorwidth:"6px",autohidemode:!1,railpadding:{top:5,right:2,left:0,bottom:0},zindex:10});var t=[],o=null;blocks=$(".employee-list-item__wrap");$(".employee-list").offset().top;$(".employee-list-item__wrap").each(function(){t.push({top:$(this).offset().top,blocks:blocks})}),t=t.reverse(),$(".employee-list").on("scroll",function(){for(var e=$(".employee-list").scrollTop(),s=0;s<t.length;s++)if(t[s].top<e){o!==s&&(o=s,blocks.filter(".sticky").removeClass("sticky"),t[s].blocks.addClass("sticky"));break}}),$(".employee-list-subitem").on("click",function(){$(".employee-list-subitem").removeClass("active"),$(this).addClass("active")}),$(".account-accs__add-btn").on("click",function(e){e.preventDefault()})});